<!DOCTYPE html>
<html>
  <head>
    <title>Event Delegation</title>
    <meta charset="UTF-8" />
  </head>
  <body>
    <div id="buttons">
      <button class="buttonClass">Click me</button>
      <button class="buttonClass">Click me</button>
    </div>
    <script>
      const buttons = document.getElementsByClassName("buttonClass");
      // 버튼 각각에 이벤트리스너 등록
      // 이벤트 위임 (event delegation)
      for (const button of buttons) {
        button.addEventListener("click", () => alert("clicked"));
      }

      // 버튼 새로 생성 !
      // 이벤트가 위임되나 ? >> NO!
      // 이미 끝나고 나서 등록해준 것...
      const buttonList = document.querySelector("#buttons");
      // 이벤트 리스너 등록
      buttonList.addEventListener("click", () => {
        alert("new click !");
      });
      const button = document.createElement("button");

      button.setAttribute("class", "buttonClass");
      button.innerText = "click me";
      buttonList.appendChild(button);
    </script>
  </body>
</html>
